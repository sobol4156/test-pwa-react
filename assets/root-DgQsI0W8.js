import{w as l,q as c,a,p as e,M as d,L as p,S as h,t as u,O as f,i as m}from"./chunk-B7RQU5TL-DkG0e22m.js";const j=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"},{rel:"manifest",href:"/test-pwa-react/manifest.json"}];function g({children:o}){return a.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.controller||navigator.serviceWorker.register("/test-pwa-react/service-worker.js").then(()=>console.log("SW registered")).catch(console.error));let t;const n=s=>{s.preventDefault(),t=s;const r=document.getElementById("install-btn");r&&(r.style.display="block",r.addEventListener("click",async()=>{r.style.display="none",t.prompt();const{outcome:i}=await t.userChoice;console.log(`User response: ${i}`),t=null}))};return window.addEventListener("beforeinstallprompt",n),()=>{window.removeEventListener("beforeinstallprompt",n)}},[]),e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx(d,{}),e.jsx(p,{})]}),e.jsxs("body",{children:[o,e.jsx("button",{id:"install-btn",style:{display:"none"},children:"Установить приложение"}),e.jsx(h,{}),e.jsx(u,{})]})]})}const y=l(function(){return e.jsxs(e.Fragment,{children:[e.jsx("header",{children:"My App"}),e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(f,{})})]})}),w=c(function({error:t}){let n="Oops!",s="An unexpected error occurred.",r;return m(t)&&(n=t.status===404?"404":"Error",s=t.status===404?"The requested page could not be found.":t.statusText||s),e.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[e.jsx("h1",{children:n}),e.jsx("p",{children:s}),r]})});export{w as ErrorBoundary,g as Layout,y as default,j as links};
