import{w as u,q as x,a as i,p as e,M as f,L as g,S as w,t as j,O as b,i as y}from"./chunk-B7RQU5TL-DkG0e22m.js";const k=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"},{rel:"manifest",href:"/test-pwa-react/manifest.json"},{rel:"apple-touch-icon",href:"/test-pwa-react/pwa-192x192.png"},{rel:"apple-touch-icon",sizes:"512x512",href:"/test-pwa-react/pwa-512x512.png"}];function E({children:l}){const[s,n]=i.useState(!1),t=i.useRef(null);return i.useEffect(()=>{"serviceWorker"in navigator&&(navigator.serviceWorker.controller||navigator.serviceWorker.register("/test-pwa-react/service-worker.js").then(()=>console.log("SW registered")).catch(console.error));const c=/iphone|ipad|ipod/i.test(navigator.userAgent),m="standalone"in window.navigator&&window.navigator.standalone;c&&!m&&n(!0);let a;const d=o=>{o.preventDefault(),a=o;const r=document.getElementById("install-btn");r&&(r.style.display="block",r.addEventListener("click",async()=>{r.style.display="none",a.prompt();const{outcome:h}=await a.userChoice;console.log(`User response: ${h}`),a=null}))},p=o=>{t.current&&!t.current.contains(o.target)&&n(!1)};return document.addEventListener("click",p),window.addEventListener("beforeinstallprompt",d),()=>{document.addEventListener("click",p),window.removeEventListener("beforeinstallprompt",d)}},[]),e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),e.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),e.jsx("meta",{name:"apple-mobile-web-app-title",content:"MyApp"}),e.jsx("meta",{name:"theme-color",content:"#0d6efd"}),e.jsx(f,{}),e.jsx(g,{})]}),e.jsxs("body",{children:[l,e.jsx("button",{id:"install-btn",style:{display:"none"},className:`
            fixed top-6 left-1/2 -translate-x-1/2
            bg-blue-600 hover:bg-blue-700
            text-white font-semibold py-3 px-6
            rounded-xl shadow-lg
            transition duration-300 z-50
          `,children:"Установить приложение PWA"}),s&&e.jsxs("div",{ref:t,className:`
              fixed top-6 left-1/2 -translate-x-1/2
              bg-white text-gray-800
              border border-gray-300
              shadow-lg rounded-xl
              p-4 max-w-xs text-center
              z-50
            `,children:[e.jsx("p",{className:"text-sm font-medium",children:"Чтобы установить приложение:"}),e.jsxs("ol",{className:"text-sm mt-2 text-left list-decimal list-inside",children:[e.jsxs("li",{children:["Нажмите ",e.jsx("span",{className:"font-semibold",children:"Share"})," (иконка ↑)."]}),e.jsxs("li",{children:["Выберите"," ",e.jsx("span",{className:"font-semibold",children:"Add to Home Screen"}),"."]})]})]}),e.jsx(w,{}),e.jsx(j,{})]})]})}const S=u(function(){return e.jsx(e.Fragment,{children:e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(b,{})})})}),L=x(function({error:s}){let n="Oops!",t="An unexpected error occurred.",c;return y(s)&&(n=s.status===404?"404":"Error",t=s.status===404?"The requested page could not be found.":s.statusText||t),e.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[e.jsx("h1",{children:n}),e.jsx("p",{children:t}),c]})});export{L as ErrorBoundary,E as Layout,S as default,k as links};
