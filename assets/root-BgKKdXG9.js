import{a as s,p as e,M as d,L as u,S as h,q as m}from"./chunk-B7RQU5TL-Bwfhgjbe.js";function x({children:l}){const[r,o]=s.useState(null),[i,n]=s.useState(!1);s.useEffect(()=>{"serviceWorker"in navigator&&!navigator.serviceWorker.controller&&navigator.serviceWorker.register("/test-pwa-react/service-worker.js").then(()=>console.log("SW registered")).catch(console.error);const t=a=>{a.preventDefault(),o(a),n(!0)};return window.addEventListener("beforeinstallprompt",t),()=>{window.removeEventListener("beforeinstallprompt",t)}},[]);const c=async()=>{if(!r)return;n(!1),r.prompt();const{outcome:t}=await r.userChoice;console.log(`User response: ${t}`),o(null)};return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx(d,{}),e.jsx(u,{})]}),e.jsxs("body",{className:"relative",children:[l,i&&e.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:e.jsx("button",{onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300",children:"Установить приложение"})}),e.jsx(h,{}),e.jsx(m,{})]})]})}export{x as Layout};
